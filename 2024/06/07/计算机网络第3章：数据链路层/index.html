<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>计算机网络第3章：数据链路层 | 诺亚方舟</title><meta name="author" content="弘树"><meta name="copyright" content="弘树"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1 使用点对点信道的数据链路层数据链路层使用的信道主要有以下两种类型：  点对点信道。这种信道使用一对一的点对点通信方式。  广播信道。这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。&amp;#x20;   数据链路层的简单模型，主机 H1 向 H2 发送数据   1.1 数据链路和帧链路（link）是一条无源的点到点">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络第3章：数据链路层">
<meta property="og:url" content="http://zhouzimu.top/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/index.html">
<meta property="og:site_name" content="诺亚方舟">
<meta property="og:description" content="1 使用点对点信道的数据链路层数据链路层使用的信道主要有以下两种类型：  点对点信道。这种信道使用一对一的点对点通信方式。  广播信道。这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。&amp;#x20;   数据链路层的简单模型，主机 H1 向 H2 发送数据   1.1 数据链路和帧链路（link）是一条无源的点到点">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic2.zhimg.com/v2-15bdc5c257f7c109f184f9872c57b2d5_b.jpg">
<meta property="article:published_time" content="2024-06-07T01:40:32.000Z">
<meta property="article:modified_time" content="2024-08-03T06:25:16.000Z">
<meta property="article:author" content="弘树">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic2.zhimg.com/v2-15bdc5c257f7c109f184f9872c57b2d5_b.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="http://zhouzimu.top/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 弘树","link":"链接: ","source":"来源: 诺亚方舟","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '计算机网络第3章：数据链路层',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-03 14:25:16'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/myStyle.css"><link rel="stylesheet" href="/css/tianli_gpt.css"><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/pic_editor_1635545191.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">123</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">45</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-asterisk"></i><span> 归档</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw fas fa-archive"></i><span> 更新日志</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://pic2.zhimg.com/v2-15bdc5c257f7c109f184f9872c57b2d5_b.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="诺亚方舟"><span class="site-name">诺亚方舟</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-asterisk"></i><span> 归档</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw fas fa-archive"></i><span> 更新日志</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">计算机网络第3章：数据链路层</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-06-07T01:40:32.000Z" title="发表于 2024-06-07 09:40:32">2024-06-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/">专业课</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="计算机网络第3章：数据链路层"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-使用点对点信道的数据链路层"><a href="#1-使用点对点信道的数据链路层" class="headerlink" title="1 使用点对点信道的数据链路层"></a>1 使用点对点信道的数据链路层</h1><p>数据链路层使用的信道主要有以下两种类型：</p>
<ul>
<li><p>点对点信道。这种信道使用一对一的点对点通信方式。</p>
</li>
<li><p>广播信道。这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。&#x20;</p>
</li>
</ul>
<p>数据链路层的简单模型，主机 H1 向 H2 发送数据</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_Xqi4Ph8ZFU.png"></p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_qIxE4qJVaD.png"></p>
<h2 id="1-1-数据链路和帧"><a href="#1-1-数据链路和帧" class="headerlink" title="1.1 数据链路和帧"></a>1.1 数据链路和帧</h2><p><strong>链路</strong>（link）是一条无源的点到点的物理线路段，中间没有任何其他的交换结点。</p>
<ul>
<li>一条链路只是一条通路的一个组成部分</li>
</ul>
<p><strong>数据链路</strong>（data link）除了物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。</p>
<ul>
<li>现在最常用的方法是使用适配器（即网卡）来实现这些协议的硬件和软件。</li>
<li>一般的适配器都包括了数据链路层和物理层这两层的功能。</li>
</ul>
<hr>
<h1 id="2-数据链路层的-3H-问题"><a href="#2-数据链路层的-3H-问题" class="headerlink" title="2 数据链路层的 3H 问题"></a>2 数据链路层的 3H 问题</h1><ol>
<li>How to 封装成帧</li>
<li>How to 透明传输</li>
<li>How to 差错控制</li>
</ol>
<h2 id="2-1-封装成帧"><a href="#2-1-封装成帧" class="headerlink" title="2.1 封装成帧"></a>2.1 封装成帧</h2><ul>
<li>封装成帧(framing)就是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。确定帧的界限。</li>
<li>首部和尾部的一个重要作用就是进行帧定界。</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_z70mHqpAqD.png"></p>
<h2 id="2-2-透明传输（屏蔽边界符）"><a href="#2-2-透明传输（屏蔽边界符）" class="headerlink" title="2.2 透明传输（屏蔽边界符）"></a>2.2 透明传输（屏蔽边界符）</h2><p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_cGlwHudDhI.png"></p>
<ol>
<li><strong>规则1</strong>：发送端的数据链路层在数据中如果出现了边界控制字符“SOH”或“EOT”，则在其前面插入一个转义字符“ESC”(其十六进制编码是 1B)。</li>
<li><strong>规则2</strong>：<strong>字节填充</strong>(byte stuffing)或<strong>字符填充</strong>(character stuffing）接收端的数据链路层在将数据送往网络层之前删除插入的转义字符。</li>
<li><strong>规则3</strong>：如果转义字符也出现数据当中，那么应在转义字符前面再插入一个转义字符。当接收端收到连续的两个转义字符时，就删除其中前面的一个。&#x20;</li>
</ol>
<ul>
<li>用字节填充法解决透明传输问题</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_dSyYis-LrJ.png"></p>
<h2 id="2-3-差错检测"><a href="#2-3-差错检测" class="headerlink" title="2.3 差错检测"></a>2.3 差错检测</h2><p>在传输过程中可能会产生比特差错：1 可能会变成 0，而 0 也可能变成 1。在一段时间内，传输错误的比特占所传输比特总数的比率称为<strong>误码率 BER</strong> (Bit Error Rate)。</p>
<p>误码率与信噪比有很大的关系。为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检测措施。</p>
<h3 id="2-3-1-循环冗余检验"><a href="#2-3-1-循环冗余检验" class="headerlink" title="2.3.1 循环冗余检验"></a>2.3.1 循环冗余检验</h3><p>在数据链路层传送的帧中，广泛使用了循环冗余检验 CRC 的检错技术。</p>
<ul>
<li>在发送端，先把数据划分为组，假定每组 k 个比特。&#x20;</li>
<li>假设待传送的一组数据为 M &#x3D; 101001（则 k &#x3D; 6），那么在 M 的后面再添加供差错检测用的 n 位冗余码一起发送。</li>
</ul>
<p>接收端对收到的每一帧进行 CRC 检验：</p>
<ol>
<li>若得出的余数 R &#x3D; 0，则判定这个帧没有差错，就接收。</li>
<li>若余数 R ≠ 0，则判定这个帧有差错，就丢弃。</li>
</ol>
<p>但这种检测方法并不能确定究竟是哪一个或哪几个比特出现了差错。只要经过严格的挑选，并使用位数足够多的除数 P，那么出现检测不到的差错的概率就很小很小。&#x20;</p>
<h3 id="2-3-2-冗余码的计算-xD"><a href="#2-3-2-冗余码的计算-xD" class="headerlink" title="2.3.2 冗余码的计算 &#xD;"></a>2.3.2 冗余码的计算 &#xD;</h3><p>用二进制的模 2 运算进行 $2^n $ 乘 M 的运算，这相当于在 M 后面添加 n 个 0。</p>
<p>得到的 (k + n) 位的数除以事先选定好的长度为 (n + 1) 位的除数 P，得出商是 Q 而余数是 R，余数 R 比除数 P 少1 位，即 R 是 n 位。&#x20;</p>
<h3 id="2-3-3-冗余码的计算举例-xD"><a href="#2-3-3-冗余码的计算举例-xD" class="headerlink" title="2.3.3 冗余码的计算举例 &#xD;"></a>2.3.3 冗余码的计算举例 &#xD;</h3><p>现在 k &#x3D; 6, 即 M &#x3D; 101001。设 n &#x3D; 3, 除数 P &#x3D; 1101，被除数是 2nM &#x3D; 101001000。&#x20;</p>
<p>模 2 运算的结果是：商 Q &#x3D; 110101，余数 R &#x3D; 001。</p>
<p>把余数 R 作为冗余码添加在数据 M 的后面发送出去。发送的数据是：2nM + R ,  即：101001001，共 (k + n) 位。&#x20;</p>
<ul>
<li>循环冗余检验的原理说明&#x20;</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_oJnGODwCvR.png"></p>
<h3 id="2-3-4-帧检验序列-FCS-xD"><a href="#2-3-4-帧检验序列-FCS-xD" class="headerlink" title="2.3.4 帧检验序列 FCS &#xD;"></a>2.3.4 帧检验序列 FCS &#xD;</h3><p>在数据后面添加上的冗余码称为帧检验序列 FCS (Frame Check Sequence)。</p>
<p>循环冗余检验 CRC 和帧检验序列 FCS并不等同。</p>
<ul>
<li>CRC 是一种常用的检错方法，而 FCS 是添加在数据后面的冗余码。</li>
<li>FCS 可以用 CRC 这种方法得出，但 CRC 并非用来获得 FCS 的唯一方法。</li>
</ul>
<p>仅用循环冗余检验 CRC 差错检测技术只能做到无差错接受。“无差错接受”是指：“凡是接受的帧（即不包括丢弃的帧），我们都能以非常接近于 1 的概率认为这些帧在传输过程中没有产生差错”。</p>
<p>也就是说：“凡是接收端数据链路层接受的帧都没有传输差错”（有差错的帧就丢弃不接受）。要做到“可靠传输”（即发送什么就收到什么）就必须再加上确认和重传机制。 &#x20;</p>
<hr>
<h1 id="3-点对点协议-PPP"><a href="#3-点对点协议-PPP" class="headerlink" title="3 点对点协议 PPP"></a>3 点对点协议 PPP</h1><h2 id="3-1-PPP-协议的特点"><a href="#3-1-PPP-协议的特点" class="headerlink" title="3.1 PPP 协议的特点"></a>3.1 PPP 协议的特点</h2><ul>
<li>现在全世界使用得最多的数据链路层协议是点对点协议 PPP (Point-to-Point Protocol)。</li>
<li>固定用户使用电话线接入因特网时，一般都是使用 PPP 协议。 &#x20;</li>
</ul>
<p>用户到 ISP 的链路使用 PPP 协议：</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_AsfkAi5RWy.png"></p>
<h2 id="3-2-PPP-协议的组成"><a href="#3-2-PPP-协议的组成" class="headerlink" title="3.2 PPP 协议的组成"></a>3.2 PPP 协议的组成</h2><p>1992 年制订了 PPP 协议。经过 1993 年和 1994 年的修订，现在的 PPP 协议已成为因特网的正式标准[RFC 1661]。</p>
<p>PPP 协议有三个组成部分：</p>
<ol>
<li>一个将 IP 数据报封装到串行链路的方法。</li>
<li>链路控制协议 LCP (Link Control Protocol)。</li>
<li>网络控制协议 NCP (Network Control Protocol)。</li>
</ol>
<h2 id="3-3-PPP-协议的帧格式"><a href="#3-3-PPP-协议的帧格式" class="headerlink" title="3.3 PPP 协议的帧格式"></a>3.3 PPP 协议的帧格式</h2><ul>
<li>标志字段 F &#x3D; 0x7E （符号“0x”表示后面的字符是用十六进制表示。十六进制的 7E 的二进制表示是 01111110）。</li>
<li>地址字段 A 只置为 0xFF。地址字段实际上并不起作用。</li>
<li>控制字段 C 通常置为 0x03。</li>
</ul>
<p>PPP 是面向字节的，所有的 PPP 帧的长度都是整数字节。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_zt54ChAetL.png"></p>
<p>PPP 有一个 2 个字节的协议字段。</p>
<ul>
<li>当协议字段为 0x0021 时，PPP 帧的信息字段就是IP 数据报。</li>
<li>若为 0xC021, 则信息字段是 PPP 链路控制数据。</li>
<li>若为 0x8021，则表示这是网络控制数据。&#x20;</li>
</ul>
<h2 id="3-4-透明传输问题"><a href="#3-4-透明传输问题" class="headerlink" title="3.4 透明传输问题"></a>3.4 透明传输问题</h2><ul>
<li>当 PPP 用在<strong>同步传输</strong>链路时，协议规定采用硬件来完成比特填充（和 HDLC 的做法一样）。</li>
<li>当 PPP 用在<strong>异步传输</strong>时，就使用一种特殊的字符填充法。&#x20;</li>
</ul>
<h3 id="3-4-1-字符填充-xD"><a href="#3-4-1-字符填充-xD" class="headerlink" title="3.4.1 字符填充 &#xD;"></a>3.4.1 字符填充 &#xD;</h3><p>将信息字段中出现的每一个 0x7E 字节转变成为 2 字节序列(0x7D, 0x5E)。 若信息字段中出现一个 0x7D 的字节, 则将其转变成为 2 字节序列(0x7D, 0x5D)。</p>
<p>若信息字段中出现 ASCII 码的控制字符（即数值小于 0x20 的字符），则在该字符前面要加入一个 0x7D 字节，同时将该字符的编码加以改变。 &#x20;</p>
<h3 id="3-4-2-零比特填充-xD"><a href="#3-4-2-零比特填充-xD" class="headerlink" title="3.4.2 零比特填充 &#xD;"></a>3.4.2 零比特填充 &#xD;</h3><p>PPP 协议用在 SONET&#x2F;SDH 链路时，是使用同步传输（一连串的比特连续传送）。这时 PPP 协议采用零比特填充方法来实现透明传输。</p>
<p>在发送端，只要发现有 5 个连续 1，则立即填入一个 0。接收端对帧中的比特流进行扫描。每当发现 5 个连续1时，就把这 5 个连续 1 后的一个 0 删除，</p>
<ul>
<li>信息字段中出现了和标志字段 F 完全一样的 8 比特组合</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_XFB6BoYwC0.png"></p>
<ul>
<li>发送端在 5 个连 1 之后填入 0 比特再发送出去</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_8qZn2a3UAy.png"></p>
<ul>
<li>在接收端把 5 个连 1之后的 0 比特删除</li>
</ul>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_AsxVviFXn1.png"></p>
<h2 id="3-5-不提供使用序号和确认的可靠传输-x20"><a href="#3-5-不提供使用序号和确认的可靠传输-x20" class="headerlink" title="3.5 不提供使用序号和确认的可靠传输&#x20;"></a>3.5 不提供使用序号和确认的可靠传输&#x20;</h2><p>PPP 协议之所以不使用序号和确认机制是出于以下的考虑：</p>
<ol>
<li>在数据链路层出现差错的概率不大时，使用比较简单的 PPP 协议较为合理。</li>
<li>在因特网环境下，PPP 的信息字段放入的数据是 IP 数据报。数据链路层的可靠传输并不能够保证网络层的传输也是可靠的。</li>
<li>帧检验序列 FCS 字段可保证无差错接受。</li>
</ol>
<h2 id="3-6-PPP-协议的工作状态"><a href="#3-6-PPP-协议的工作状态" class="headerlink" title="3.6 PPP 协议的工作状态"></a>3.6 PPP 协议的工作状态</h2><p>当用户拨号接入 ISP 时，路由器的调制解调器对拨号做出确认，并建立一条物理连接。</p>
<ul>
<li>PC 机向路由器发送一系列的 LCP 分组（封装成多个 PPP 帧）。</li>
<li>这些分组及其响应选择一些 PPP 参数，和进行网络层配置，NCP 给新接入的 PC机分配一个临时的 IP 地址，使 PC 机成为因特网上的一个主机。</li>
<li>通信完毕时，NCP 释放网络层连接，收回原来分配出去的 IP 地址。接着，LCP 释放数据链路层连接。最后释放的是物理层的连接。</li>
</ul>
<hr>
<h1 id="4-使用广播信道的数据链路层"><a href="#4-使用广播信道的数据链路层" class="headerlink" title="4 使用广播信道的数据链路层"></a>4 使用广播信道的数据链路层</h1><h2 id="4-1-局域网的数据链路层"><a href="#4-1-局域网的数据链路层" class="headerlink" title="4.1 局域网的数据链路层"></a>4.1 局域网的数据链路层</h2><p>局域网最主要的特点是：网络为一个单位所拥有，且地理范围和站点数目均有限。</p>
<p>局域网具有如下的一些主要优点：</p>
<ol>
<li>具有广播功能，从一个站点可很方便地访问全网。局域网上的主机可共享连接在局域网上的各种硬件和软件资源。</li>
<li>便于系统的扩展和逐渐地演变，各设备的位置可灵活调整和改变。</li>
<li>提高了系统的可靠性、可用性和残存性。</li>
</ol>
<h3 id="4-1-1-局域网的拓扑"><a href="#4-1-1-局域网的拓扑" class="headerlink" title="4.1.1 局域网的拓扑"></a>4.1.1 局域网的拓扑</h3><p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image__Sbn1zagfA.png"></p>
<p>局域网工作的层次跨越了数据链路层和物理层。由于局域网技术中有关数据链路层的内容比较丰富，因此放在数据链路层进行讨论，但并不代表局域网仅与数据链路层有关。</p>
<h3 id="4-1-2-信道共享技术"><a href="#4-1-2-信道共享技术" class="headerlink" title="4.1.2 信道共享技术"></a>4.1.2 信道共享技术</h3><p>共享信道要考虑如何让众多用户能够合理而方便地共享通信媒体资源，通常有两种方法：</p>
<ol>
<li>静态划分信道：频分复用、时分复用、波分复用、码分复用</li>
<li>动态媒体接入控制（多点接入）<ul>
<li>随机接入，所有用户可随机发送信息。但如果恰巧有两个或更多的用户在同一时刻发送信息，就会在共享媒体上产生碰撞，使得这些用户的发送都失败，因此必须有解决碰撞的协议。</li>
<li>受控接入 ，如多点线路探询(polling)，或轮询。</li>
</ul>
</li>
</ol>
<h3 id="4-1-3-以太网的两个标准"><a href="#4-1-3-以太网的两个标准" class="headerlink" title="4.1.3 以太网的两个标准"></a>4.1.3 以太网的两个标准</h3><ol>
<li>DIX Ethernet V2 是世界上第一个局域网产品（以太网）的规约。</li>
<li>IEEE 的 802.3 标准。</li>
</ol>
<p>DIX Ethernet V2 标准与 IEEE 的 802.3 标准只有很小的差别，因此可以将 802.3 局域网简称为“以太网”。严格说来，“以太网”应当是指符合 DIX Ethernet V2 标准的局域网。</p>
<p>由于有很多不同的局域网标准，为了使数据链路层能更好地适应多种局域网标准，IEEE 802委员会就把局域网的数据链路层拆分魏两个子层：</p>
<ul>
<li>逻辑链路控制 LLC (Logical Link Control)子层</li>
<li>媒体接入控制 MAC (Medium Access Control)子层</li>
</ul>
<p>与接入到传输媒体有关的内容都放在 MAC子层，而 LLC 子层则与传输媒体无关，不管采用何种协议的局域网对 LLC 子层来说都是透明的。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_vu2eEg2juC.png"></p>
<p>由于 TCP&#x2F;IP 体系经常使用的局域网是 DIX Ethernet V2 而不是 802.3 标准中的几种局域网，因此现在 802 委员会制定的逻辑链路控制子层 LLC（即 802.2 标准）的作用已经不大了。</p>
<p>很多厂商生产的适配器上就仅装有 MAC 协议而没有 LLC 协议，所以以后一般不考虑LLC层。</p>
<h2 id="4-2-适配器的作用"><a href="#4-2-适配器的作用" class="headerlink" title="4.2 适配器的作用"></a>4.2 适配器的作用</h2><p>网络接口板又称为<strong>通信适配器</strong>（adapter）或<strong>网络接口卡</strong> NIC（Network Interface Card），或“网卡”。&#x20;</p>
<p>适配器的重要功能：</p>
<ol>
<li><strong>进行串行&#x2F;并行转换</strong>：适配器和局域网之间的通信是通过电缆或双绞线以串行传输方式进行的，但是适配器和计算机之间的通信是通过计算机主板上的I&#x2F;O总线以并行方式进行的。</li>
<li><strong>对数据进行缓存</strong>：网络上的数据率和计算机总线上的数据率并不相同。</li>
<li><strong>在计算机的操作系统安装设备驱动程序</strong>：驱动程序会告诉适配器，应当从存储器的什么位置把多长的数据块发送到局域网上，或者应该在存储器的什么位置把局域网上的数据块存储下来。</li>
<li><strong>实现以太网协议</strong></li>
</ol>
<p>当适配器收到有差错的帧时，直接丢弃而不用通知计算机。收到正确的帧时，通过中断通知该计算机，并交付协议栈中的网络层。</p>
<p>计算机的硬件地址就在适配器的ROM中，而软件地址—IP地址在计算机的存储器中。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_-YbHjUAamT.png"></p>
<h2 id="4-3-CSMA-CD协议"><a href="#4-3-CSMA-CD协议" class="headerlink" title="4.3 CSMA&#x2F;CD协议"></a>4.3 CSMA&#x2F;CD协议</h2><p>最初的以太网是将许多计算机都连接到一根总线上。当初认为这样的连接方法既简单又可靠，因为总线上没有有源器件。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_TiDycuvdsv.png"></p>
<p>以太网的广播方式发送，总线上的每一个工作的计算机都能检测到 B 发送的数据信号。由于只有计算机 D 的地址与数据帧首部写入的地址一致，因此只有 D 才接收这个数据帧。</p>
<p>其他所有的计算机（A, C 和 E）都检测到不是发送给它们的数据帧，因此就丢弃这个数据帧而不能够收下来，从而在具有广播特性的总线上实现了一对一的通信。</p>
<p>为了通信的简便，以太网采取了两种重要的措施：</p>
<ol>
<li><p>采用较为灵活的无连接的工作方式，即不必先建立连接就可以直接发送数据。</p>
</li>
<li><p>以太网对发送的数据帧不进行编号，也不要求对方发回确认。</p>
<p>以太网提供的服务是不可靠的交付，即尽最大努力的交付。当目的站收到有差错的数据帧时就丢弃此帧，其他什么也不做。差错的纠正由高层来决定。如果高层发现丢失了一些数据而进行重传，但以太网并不知道这是一个重传的帧，而是当作一个新的数据帧来发送。 &#x20;</p>
</li>
</ol>
<p>这样做的理由是局域网信道的质量很好，因信道质量产生差错的概率是很小的。</p>
<p>以太网发送的数据都使用曼彻斯特(Manchester)编码，码元1是前高后低，码元0是前低后高，这就保证了在每一个比特的正中间出现一次电压的转换，而接收端就利用这种电压的转换很方便地把位同步信号提取出来。</p>
<p>但是从曼彻斯特编码的波形图可以看出，其所占频带宽度比原始的基带信号增加了一倍（因为每秒传送的码元数加倍了）。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_BcS5yAacKB.png"></p>
<p>CSMA&#x2F;CD 表示 Carrier Sense Multiple Access with Collision etection，即<strong>载波监听、多点接入、碰撞检测</strong>。</p>
<ul>
<li><p>“<strong>多点接入</strong>”表示许多计算机以多点接入的方式连接在一根总线上。</p>
</li>
<li><p>“<strong>载波监听</strong>”是指每一个站在发送数据之前先要检测一下总线上是否有其他计算机在发送数据，如果有，则暂时不要发送数据，以免发生碰撞。&#x20;</p>
<p>总线上并没有什么“载波”。因此， “载波监听”就是用电子技术检测总线上有没有其他计算机发送的数据信号。</p>
</li>
<li><p>“<strong>碰撞检测</strong>”就是计算机边发送数据边检测信道上的信号电压大小。</p>
</li>
</ul>
<p>当几个站同时在总线上发送数据时，总线上的信号电压摆动值将会增大（互相叠加）。当一个站检测到的信号电压摆动值超过一定的门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞。所谓“碰撞”就是发生了冲突。因此“碰撞检测”也称为“冲突检测”。</p>
<p>在发生碰撞时，总线上传输的信号产生了严重的失真，无法从中恢复出有用的信息来。</p>
<p>每一个正在发送数据的站，一旦发现总线上出现了碰撞，就要立即停止发送，免得继续浪费网络资源，然后等待一段随机时间后再次发送。</p>
<h3 id="4-3-1-电磁波在总线上的有限传播速率的影响"><a href="#4-3-1-电磁波在总线上的有限传播速率的影响" class="headerlink" title="4.3.1 电磁波在总线上的有限传播速率的影响"></a>4.3.1 电磁波在总线上的有限传播速率的影响</h3><p>当某个站监听到总线是空闲时，也可能总线并非真正是空闲的。A 向 B 发出的信息，要经过一定的时间后才能传送到 B。</p>
<p>B 若在 A 发送的信息到达 B 之前发送自己的帧(因为这时 B 的载波监听检测不到 A 所发送的信息)，则必然要在某个时间和 A 发送的帧发生碰撞。碰撞的结果是两个帧都变得无用。</p>
<p>因此，使用 CSMA&#x2F;CD 协议的以太网不能进行全双工通信而只能进行双向交替通信（半双工通信）。每个站在发送数据之后的一小段时间内，存在着遭遇碰撞的可能性。 这种发送的不确定性使整个以太网的平均通信量远小于以太网的最高数据率。</p>
<p>最先发送数据的A站在至多经过时间$2t$就可知道有没有发生碰撞，因此以太网的端到端往返时间$2t$又被称为<strong>争用期</strong>，也叫<strong>碰撞窗口</strong>。只有经过争用期时间还没有检测到碰撞，才能肯定这次发送不会发生碰撞。</p>
<h3 id="4-3-2-二进制指数类型退避算法"><a href="#4-3-2-二进制指数类型退避算法" class="headerlink" title="4.3.2 二进制指数类型退避算法"></a>4.3.2 二进制指数类型退避算法</h3><p>发生碰撞的站在停止发送数据后，要推迟（退避）一个随机时间才能再发送数据。</p>
<p>为了尽可能减小重传时再次发生冲突的概率，退避算法有以下具体的规定：</p>
<ol>
<li><p>基本退避时间取为争用期 2t，具体的争用期时间是51.2us。对于10M&#x2F;bits以太网在争用期可发送512比特，即64字节，也可以说争用期是512比特时间。</p>
</li>
<li><p>从整数集合$\left[0,1, \ldots,\left(2^{k}-1\right)\right]$中随机地取出一个数，记为 r。重传所需的时延就是 r 倍的基本退避时间。</p>
</li>
<li><p>参数 k 按下面的公式计算：</p>
<p>当 k ≤ 10 时，参数 k 等于重传次数。</p>
</li>
</ol>
<p>$$<br>k&#x3D; \min [重传次数, 10]<br>$$</p>
<ol start="4">
<li>当重传达 16 次仍不能成功时即丢弃该帧，并向高层报告。</li>
</ol>
<p>如果发生冲突，就一定是在发送的前 64 字节之内。由于一检测到冲突就立即中止发送，这时已经发送出去的数据一定小于 64 字节。&#x20;</p>
<p>以太网规定了最短有效帧长为 64 字节，凡长度小于 64 字节的帧都是由于冲突而异常中止的无效帧。&#x20;</p>
<p>当发送数据的站一旦发现发生了碰撞时：</p>
<ol>
<li>立即停止发送数据；</li>
<li>再继续发送若干比特的**人为干扰信号(jamming signal)**，以便让所有用户都知道现在已经发生了碰撞。&#x20;</li>
</ol>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_nrUuaeRdQ4.png"></p>
<p>B 也能够检测到冲突，并立即停止发送数据帧，接着就发送干扰信号。这里为了简单起见，只画出 A 发送干扰信号的情况。</p>
<p>以太网还规定了帧间最小间隔为9.6us，相当于96比特时间，这样做是为了使刚刚收到数据帧的站的接收缓存来得及清理，做好接受下一帧的准备。</p>
<h2 id="4-4-使用广播信道的以太网"><a href="#4-4-使用广播信道的以太网" class="headerlink" title="4.4 使用广播信道的以太网"></a>4.4 使用广播信道的以太网</h2><h3 id="4-4-1-使用集线器的星形拓扑"><a href="#4-4-1-使用集线器的星形拓扑" class="headerlink" title="4.4.1 使用集线器的星形拓扑"></a>4.4.1 使用集线器的星形拓扑</h3><p>传统以太网最初是使用粗同轴电缆，后来演进到使用比较便宜的细同轴电缆，最后发展为使用更便宜和更灵活的双绞线。</p>
<p>这种以太网采用星形拓扑，在星形的中心则增加了一种可靠性非常高的设备，叫做集线器(hub)  。集线器使用了大规模集成电路芯片，因此这样的硬件设备的可靠性已大大提高了。&#x20;</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_N1d30O3xqu.png"></p>
<p>每个站需要使用两对无屏蔽双绞线（放在同一根电缆中），分别用于发送和接受。</p>
<p>1990年IEEE制作出星形网 10BASE-T的标准802.3i。</p>
<ul>
<li>10代表10Mbit&#x2F;s的数据率</li>
<li>BASE代表连接线上的信号是基带信号</li>
<li>T代表双绞线</li>
</ul>
<p>这种 10 Mb&#x2F;s 速率的无屏蔽双绞线星形网的出现，既降低了成本，又提高了可靠性。但10BASE-T 的通信距离稍短，每个站到集线器的距离不超过 100 m。10BASE-T 双绞线以太网的出现，是局域网发展史上的一个非常重要的里程碑，它为以太网在局域网中的统治地位奠定了牢固的基础。&#x20;</p>
<p>集线器的一些特点：</p>
<ol>
<li>集线器是使用电子器件来模拟实际电缆线的工作，因此整个系统仍然像一个传统的以太网那样运行。&#x20;</li>
<li>使用集线器的以太网在逻辑上仍是一个总线网，各工作站使用的还是 CSMA&#x2F;CD 协议，并共享逻辑上的总线。</li>
<li>集线器很像一个多接口的转发器，工作在物理层，不进行碰撞检测。</li>
</ol>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_i2sHBpkCvl.png"></p>
<ol>
<li>集线器一般都有少量的容错能力和网络管理能力。</li>
</ol>
<h3 id="4-4-2-以太网的-MAC-层"><a href="#4-4-2-以太网的-MAC-层" class="headerlink" title="4.4.2 以太网的 MAC 层"></a>4.4.2 以太网的 MAC 层</h3><h4 id="4-4-2-1-MAC-层的硬件地址"><a href="#4-4-2-1-MAC-层的硬件地址" class="headerlink" title="4.4.2.1 MAC 层的硬件地址"></a>4.4.2.1 MAC 层的硬件地址</h4><p>在局域网中，硬件地址又称为物理地址，或 MAC 地址。802 标准所说的“地址”严格地讲应当是每一个站的“名字”或标识符。&#x20;</p>
<p>IEEE 802规定MAC地址字段使用6字节（48位）。</p>
<ul>
<li>IEEE 的注册管理机构 RA 负责向厂家分配地址字段的前三个字节(即高位 24 位)。</li>
<li>地址字段中的后三个字节(即低位 24 位)由厂家自行指派，称为扩展标识符，必须保证生产出的适配器没有重复地址。</li>
</ul>
<p>一个地址块可以生成$2^{24}$个不同的地址。这种 48 位地址称为 MAC-48，它的通用名称是EUI-48。</p>
<p>“MAC地址”实际上就是适配器地址或适配器标识符EUI-48。</p>
<h4 id="4-4-2-2-适配器检查-MAC-地址-xD"><a href="#4-4-2-2-适配器检查-MAC-地址-xD" class="headerlink" title="4.4.2.2 适配器检查 MAC 地址 &#xD;"></a>4.4.2.2 适配器检查 MAC 地址 &#xD;</h4><p>适配器从网络上每收到一个 MAC 帧就首先用硬件检查 MAC 帧中的 MAC 地址：</p>
<ul>
<li>如果是发往本站的帧则收下，然后再进行其他的处理。</li>
<li>否则就将此帧丢弃，不再进行其他的处理。</li>
</ul>
<p>“发往本站的帧”包括以下三种帧：</p>
<ul>
<li>单播(unicast)帧（一对一）</li>
<li>广播(broadcast)帧（一对全体）</li>
<li>多播(multicast)帧（一对多）</li>
</ul>
<p>所有的适配器都至少应当能够识别前两种帧，有的适配器可用编程的方法识别多播地址。</p>
<h4 id="4-4-2-3-MAC-帧的格式"><a href="#4-4-2-3-MAC-帧的格式" class="headerlink" title="4.4.2.3 MAC 帧的格式"></a>4.4.2.3 MAC 帧的格式</h4><p>常用的以太网MAC帧格式有两种标准：</p>
<ol>
<li>DIX Ethernet V2 标准</li>
<li>IEEE 的 802.3 标准</li>
</ol>
<p>最常用的 MAC 帧是以太网 V2 的格式。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_3Wocca0fEy.png"></p>
<ul>
<li>类型字段：用来标志上一层使用的是什么协议，<br>以便把收到的 MAC 帧的数据上交给上一层的这个协议。&#x20;</li>
<li>数据字段：正式名称是 MAC 客户数据字段，最小长度 64 字节 - 18 字节的首部和尾部 &#x3D; 数据字段的最小长度。</li>
<li>FCS：帧检验序列，当传输媒体的误码率为$1 \times 10^{-8}$时， MAC 子层可使未检测到的差错小于$1 \times 10^{-14}$。&#x20;</li>
</ul>
<p>当数据字段的长度小于 46 字节时，应在数据字段的后面加入整数字节的填充字段，以保证以太网的 MAC 帧长不小于 64 字节。&#x20;</p>
<p>在帧的前面插入的 8 字节中的第一个字段共 7 个字节，是前同步码，用来迅速实现 MAC 帧的比特同步。第二个字段是帧开始定界符，表示后面的信息就是MAC 帧。 为了达到比特同步，在传输媒体上实际传送的要比 MAC 帧还多 8 个字节。</p>
<p>以太网不需要封装成帧和透明传输，因为可以使用曼彻斯特编码来识别是否是同一个帧。</p>
<p>以下情况为无效的 MAC 帧：</p>
<ol>
<li>帧的长度不是整数个字节；</li>
<li>用收到的帧检验序列 FCS 查出有差错；</li>
<li>数据字段的长度不在 46 ~ 1500 字节之间。</li>
</ol>
<p>对于检查出的无效 MAC 帧就简单地丢弃。以太网不负责重传丢弃的帧。&#x20;</p>
<hr>
<h1 id="5-扩展的以太网"><a href="#5-扩展的以太网" class="headerlink" title="5 扩展的以太网"></a>5 扩展的以太网</h1><p>讨论如何把以太网的覆盖范围扩展。</p>
<p>在物理层扩展局域网：主机使用光纤和一对光纤调制解调器连接到集线器。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_3qxcgK1jM-.png"></p>
<p>光纤调制解调器的作用就是进行电信号和光信号的转换，光纤的时延很小，并且带宽很宽，因此可以很容易使主机和几公里之外的集线器相连接。</p>
<p>用多个集线器可连成更大的局域，某大学有三个系，各自有一个局域网。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_8caVwXWgAa.png"></p>
<p>用集线器组成更大的局域网都在一个碰撞域中。</p>
<p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_CuFlIqA6jw.png"></p>
<h2 id="5-1-在数据链路层扩展以太网"><a href="#5-1-在数据链路层扩展以太网" class="headerlink" title="5.1 在数据链路层扩展以太网"></a>5.1 在数据链路层扩展以太网</h2><p><img src="/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/image_fwCTB72h3q.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://zhouzimu.top">弘树</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://zhouzimu.top/2024/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC3%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/">http://zhouzimu.top/2024/06/07/计算机网络第3章：数据链路层/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://zhouzimu.top" target="_blank">诺亚方舟</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post_share"><div class="social-share" data-image="https://pic2.zhimg.com/v2-15bdc5c257f7c109f184f9872c57b2d5_b.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>码字不易，如果对你有帮助的话请喝一杯奶茶吧~</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/img/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/06/07/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AC%AC10%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF/" title="数据库第10章：数据库恢复技术"><img class="cover" src="https://nebula-website-cn.oss-cn-hangzhou.aliyuncs.com/nebula-blog/andy-database-review/database-review.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据库第10章：数据库恢复技术</div></div></a></div><div class="next-post pull-right"><a href="/2024/06/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC8%E7%AB%A0%EF%BC%9A%E6%8E%92%E5%BA%8F/" title="数据结构第8章：排序"><img class="cover" src="https://itimetraveler.github.io/gallery/sort-algorithms/2016-07-15_%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据结构第8章：排序</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/06/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC2%E7%AB%A0%EF%BC%9A%E7%89%A9%E7%90%86%E5%B1%82/" title="计算机网络第2章：物理层"><img class="cover" src="https://th.bing.com/th/id/OIP.upyRHF4n063vA2_j7PdDhwHaC7?w=1440&h=571&rs=1&pid=ImgDetMain" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-09</div><div class="title">计算机网络第2章：物理层</div></div></a></div><div><a href="/2024/06/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC4%E7%AB%A0%EF%BC%9A%E7%BD%91%E7%BB%9C%E5%B1%82/" title="计算机网络第4章：网络层"><img class="cover" src="https://so1.360tres.com/t01b34c003ce53dbb04.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-08</div><div class="title">计算机网络第4章：网络层</div></div></a></div><div><a href="/2024/06/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC5%E7%AB%A0%EF%BC%9A%E4%BC%A0%E8%BE%93%E5%B1%82/" title="计算机网络第5章：传输层"><img class="cover" src="https://pic1.zhimg.com/v2-2159a954d03d90c2d869bf962a7ef775_720w.jpg?source=172ae18b" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-09</div><div class="title">计算机网络第5章：传输层</div></div></a></div><div><a href="/2024/06/22/%E8%AE%A1%E7%BD%91%E8%AF%BE%E8%AE%BE%EF%BC%9A%E5%9F%BA%E4%BA%8ETCP%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%AE%80%E5%8E%86%E8%81%8A%E5%A4%A9%E5%AE%A4%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" title="计网课设：基于TCP协议的简历聊天室程序设计"><img class="cover" src="https://haowallpaper.com/link/common/file/previewFileImg/6676074414d4ad203e7090e119edfda2" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-22</div><div class="title">计网课设：基于TCP协议的简历聊天室程序设计</div></div></a></div><div><a href="/2024/06/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC6%E7%AB%A0%EF%BC%9A%E5%BA%94%E7%94%A8%E5%B1%82/" title="计算机网络第6章：应用层"><img class="cover" src="https://www.scensmart.com/wp-content/uploads/2019/04/ARM-%E9%9B%86%E7%BE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8-1-1024x576.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-09</div><div class="title">计算机网络第6章：应用层</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/pic_editor_1635545191.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">弘树</div><div class="author-info__description">在我坚定无比的内心，总以最坚强的节奏解开案情</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">123</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">45</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/NoyeArk"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/NoyeArk" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:horiki0@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://leetcode.cn/u/horiki/" target="_blank" title="Leetcode"><i class="fas fa-l" style="color: #59e285;"></i></a><a class="social-icon" href="https://www.kaggle.com/horiki" target="_blank" title="Kaggle"><i class="fas fa-k" style="color: #4a7dbe;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc" style="font-size: 15px;"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E7%82%B9%E5%AF%B9%E7%82%B9%E4%BF%A1%E9%81%93%E7%9A%84%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-text">1 使用点对点信道的数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%92%8C%E5%B8%A7"><span class="toc-text">1.1 数据链路和帧</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84-3H-%E9%97%AE%E9%A2%98"><span class="toc-text">2 数据链路层的 3H 问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-text">2.1 封装成帧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93%EF%BC%88%E5%B1%8F%E8%94%BD%E8%BE%B9%E7%95%8C%E7%AC%A6%EF%BC%89"><span class="toc-text">2.2 透明传输（屏蔽边界符）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B"><span class="toc-text">2.3 差错检测</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E9%AA%8C"><span class="toc-text">2.3.1 循环冗余检验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-%E5%86%97%E4%BD%99%E7%A0%81%E7%9A%84%E8%AE%A1%E7%AE%97-xD"><span class="toc-text">2.3.2 冗余码的计算 </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-%E5%86%97%E4%BD%99%E7%A0%81%E7%9A%84%E8%AE%A1%E7%AE%97%E4%B8%BE%E4%BE%8B-xD"><span class="toc-text">2.3.3 冗余码的计算举例 </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-%E5%B8%A7%E6%A3%80%E9%AA%8C%E5%BA%8F%E5%88%97-FCS-xD"><span class="toc-text">2.3.4 帧检验序列 FCS </span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE-PPP"><span class="toc-text">3 点对点协议 PPP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-PPP-%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">3.1 PPP 协议的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-PPP-%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-text">3.2 PPP 协议的组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-PPP-%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B8%A7%E6%A0%BC%E5%BC%8F"><span class="toc-text">3.3 PPP 协议的帧格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93%E9%97%AE%E9%A2%98"><span class="toc-text">3.4 透明传输问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-%E5%AD%97%E7%AC%A6%E5%A1%AB%E5%85%85-xD"><span class="toc-text">3.4.1 字符填充 </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-%E9%9B%B6%E6%AF%94%E7%89%B9%E5%A1%AB%E5%85%85-xD"><span class="toc-text">3.4.2 零比特填充 </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-%E4%B8%8D%E6%8F%90%E4%BE%9B%E4%BD%BF%E7%94%A8%E5%BA%8F%E5%8F%B7%E5%92%8C%E7%A1%AE%E8%AE%A4%E7%9A%84%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-x20"><span class="toc-text">3.5 不提供使用序号和确认的可靠传输 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-PPP-%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%8A%B6%E6%80%81"><span class="toc-text">3.6 PPP 协议的工作状态</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8%E5%B9%BF%E6%92%AD%E4%BF%A1%E9%81%93%E7%9A%84%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-text">4 使用广播信道的数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-text">4.1 局域网的数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8B%93%E6%89%91"><span class="toc-text">4.1.1 局域网的拓扑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E4%BF%A1%E9%81%93%E5%85%B1%E4%BA%AB%E6%8A%80%E6%9C%AF"><span class="toc-text">4.1.2 信道共享技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%A0%87%E5%87%86"><span class="toc-text">4.1.3 以太网的两个标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">4.2 适配器的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-CSMA-CD%E5%8D%8F%E8%AE%AE"><span class="toc-text">4.3 CSMA&#x2F;CD协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-%E7%94%B5%E7%A3%81%E6%B3%A2%E5%9C%A8%E6%80%BB%E7%BA%BF%E4%B8%8A%E7%9A%84%E6%9C%89%E9%99%90%E4%BC%A0%E6%92%AD%E9%80%9F%E7%8E%87%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-text">4.3.1 电磁波在总线上的有限传播速率的影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%8C%87%E6%95%B0%E7%B1%BB%E5%9E%8B%E9%80%80%E9%81%BF%E7%AE%97%E6%B3%95"><span class="toc-text">4.3.2 二进制指数类型退避算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E4%BD%BF%E7%94%A8%E5%B9%BF%E6%92%AD%E4%BF%A1%E9%81%93%E7%9A%84%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-text">4.4 使用广播信道的以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-%E4%BD%BF%E7%94%A8%E9%9B%86%E7%BA%BF%E5%99%A8%E7%9A%84%E6%98%9F%E5%BD%A2%E6%8B%93%E6%89%91"><span class="toc-text">4.4.1 使用集线器的星形拓扑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84-MAC-%E5%B1%82"><span class="toc-text">4.4.2 以太网的 MAC 层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-1-MAC-%E5%B1%82%E7%9A%84%E7%A1%AC%E4%BB%B6%E5%9C%B0%E5%9D%80"><span class="toc-text">4.4.2.1 MAC 层的硬件地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-2-%E9%80%82%E9%85%8D%E5%99%A8%E6%A3%80%E6%9F%A5-MAC-%E5%9C%B0%E5%9D%80-xD"><span class="toc-text">4.4.2.2 适配器检查 MAC 地址 </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-3-MAC-%E5%B8%A7%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-text">4.4.2.3 MAC 帧的格式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E6%89%A9%E5%B1%95%E7%9A%84%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-text">5 扩展的以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E5%9C%A8%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%89%A9%E5%B1%95%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-text">5.1 在数据链路层扩展以太网</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline" style="font-size: 17px;"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list" style="font-size: 16px;"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/02/5-%E6%95%B0%E6%8D%AE%E9%9B%86/" title="「HFLLM」5-数据集"><img src="https://cdn.mos.cms.futurecdn.net/gHfBJ6FBHKnLbW36hEDvgV.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="「HFLLM」5-数据集"/></a><div class="content"><a class="title" href="/2025/05/02/5-%E6%95%B0%E6%8D%AE%E9%9B%86/" title="「HFLLM」5-数据集">「HFLLM」5-数据集</a><time datetime="2025-05-02T08:26:25.000Z" title="发表于 2025-05-02 16:26:25">2025-05-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/01/3-%E5%BE%AE%E8%B0%83%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B/" title="「HFLLM」3. 微调预训练模型"><img src="https://venturebeat.com/wp-content/uploads/2023/05/Untitled-design-78.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="「HFLLM」3. 微调预训练模型"/></a><div class="content"><a class="title" href="/2025/05/01/3-%E5%BE%AE%E8%B0%83%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B/" title="「HFLLM」3. 微调预训练模型">「HFLLM」3. 微调预训练模型</a><time datetime="2025-05-01T02:51:22.000Z" title="发表于 2025-05-01 10:51:22">2025-05-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/17/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB9%EF%BC%9AADSNet/" title="论文精读9：ADSNet"><img src="https://i.ytimg.com/vi/v5BoeTyOAhM/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AH-CYACzgWKAgwIABABGFsgYShlMA8=&amp;rs=AOn4CLChXkjgk_egO-1uGInclI_lQe_MMg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文精读9：ADSNet"/></a><div class="content"><a class="title" href="/2025/02/17/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB9%EF%BC%9AADSNet/" title="论文精读9：ADSNet">论文精读9：ADSNet</a><time datetime="2025-02-17T09:09:52.000Z" title="发表于 2025-02-17 17:09:52">2025-02-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/27/2024%E5%B9%B4AI%E5%B9%B4%E5%BA%A6%E5%85%B3%E9%94%AE%E8%AF%8D/" title="2024年AI年度关键词"><img src="https://image.uisdc.com/wp-content/uploads/2025/01/banner2025012108482456.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2024年AI年度关键词"/></a><div class="content"><a class="title" href="/2025/01/27/2024%E5%B9%B4AI%E5%B9%B4%E5%BA%A6%E5%85%B3%E9%94%AE%E8%AF%8D/" title="2024年AI年度关键词">2024年AI年度关键词</a><time datetime="2025-01-27T11:03:16.000Z" title="发表于 2025-01-27 19:03:16">2025-01-27</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://pic2.zhimg.com/v2-15bdc5c257f7c109f184f9872c57b2d5_b.jpg')"><div id="footer-wrap" style="padding: 5px 5px;"><div class="copyright">&copy;2024 - 2025 By 弘树</div><div id="running-time" style="font-size: 14px;"><script>setInterval(() => {
  let create_time = Math.round((new Date(2024, 1, 23).getTime()) / 1000);
  let timestamp = Math.round((new Date().getTime()) / 1000);
  let second = timestamp - create_time;
  let time = new Array(0, 0, 0, 0, 0);
  if (second >= 365 * 24 * 3600) {
      time[0] = parseInt(second / (365 * 24 * 3600));
      second %= 365 * 24 * 3600;
  }
  if (second >= 24 * 3600) {
      time[1] = parseInt(second / (24 * 3600));
      second %= 24 * 3600;
  }
  if (second >= 3600) {
      time[2] = parseInt(second / 3600);
      second %= 3600;
  }
  if (second >= 60) {
      time[3] = parseInt(second / 60);
      second %= 60;
  }
  if (second > 0) {
      time[4] = second;
  }
  currentTimeHtml = "本站已安全运行 " +
      time[0] + " 年 " +
      (time[1] + 31) + " 天 " +
      time[2] + " 时 " +
      time[3] + " 分 " +
      time[4] + " 秒";
  document.getElementById("running-time").innerHTML = currentTimeHtml;
  }, 1000);</script></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const loadUtterances = () => {
    let ele = document.createElement('script')
    ele.id = 'utterances_comment'
    ele.src = 'https://utteranc.es/client.js'
    ele.setAttribute('repo', 'NoyeArk/noyeark.github.io')
    ele.setAttribute('issue-term', 'pathname')
    const nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
    ele.setAttribute('theme', nowTheme)
    ele.crossOrigin = 'anonymous'
    ele.async = true
    document.getElementById('utterances-wrap').appendChild(ele)
  }

  const utterancesTheme = theme => {
    const iframe = document.querySelector('.utterances-frame')
    if (iframe) {
      const theme = theme === 'dark' ? 'photon-dark' : 'github-light'
      const message = {
        type: 'set-theme',
        theme: theme
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es');
    }
  }

  btf.addGlobalFn('themeChange', utterancesTheme, 'utterances')

  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><script src="/js/jquery.js"></script><script src="/js/footer.js"></script><script src="/js/nav.js"></script><script>let tianliGPT_postSelector = '\#post \#article-container';let tianliGPT_key = 'iyiSf8ljbaf';</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div></body></html>